@use '../../functions/sprite_functions';
@use '../../mixins/sprite_mixins';

$-svg-sprite-url: '{{{sprite}}}';
$-svg-sprite-height: {{spriteHeight}}px;
$-svg-sprite-width: {{spriteWidth}}px;
$-svg-sprite-size: $svg-sprite-width $svg-sprite-height;

{{#shapes}}
$-svg-sprite-{{base}}-x: {{position.absolute.x}}px;
$-svg-sprite-{{base}}-y: {{position.absolute.y}}px;
$-svg-sprite-{{base}}-width: {{width.outer}}px;
$-svg-sprite-{{base}}-height: {{height.outer}}px;
$svg-sprite-{{base}}: $svg-sprite-{{base}}-x $svg-sprite-{{base}}-y $svg-sprite-{{base}}-width $svg-sprite-{{base}}-height;

{{/shapes}}

@mixin svg-sprite($sprite) {
{{!--    //@include sprite_mixins.sprite($sprite, $-svg-sprite-url<% if (options.pixelRatio !== 1) { %>, $-<%= spriteName %>-size<% } %>);--}}
    @include sprite_mixins.sprite($sprite, $-svg-sprite-url, $-svg-sprite-size);
}




{{#hasMixin}}@mixin {{mixinName}} {
    background: url("{{{sprite}}}") no-repeat;
}

{{#hasCommon}}.{{commonName}} {
    @include {{mixinName}};
}

{{/hasCommon}}{{/hasMixin}}{{^hasMixin}}{{#hasCommon}}.{{/hasCommon}}{{^hasCommon}}%{{/hasCommon}}{{commonName}} {
    background: url("{{{sprite}}}") no-repeat;
}

{{/hasMixin}}{{#shapes}}{{#selector.shape}}{{expression}}{{^last}},
{{/last}}{{/selector.shape}} {
{{^hasCommon}}{{#hasMixin}}@include {{mixinName}};{{/hasMixin}}{{^hasMixin}}@extend %{{commonName}};{{/hasMixin}}
{{/hasCommon}}background-position: {{position.relative.xy}};{{#dimensions.inline}}
    width: {{width.outer}}px;
    height: {{height.outer}}px;{{/dimensions.inline}}
}{{#dimensions.extra}}

    {{#selector.dimensions}}{{expression}}{{^last}},
    {{/last}}{{/selector.dimensions}} {
    width: {{width.outer}}px;
    height: {{height.outer}}px;
}{{/dimensions.extra}}

{{/shapes}}
